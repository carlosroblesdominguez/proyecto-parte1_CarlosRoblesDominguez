{% extends "./base.html" %}
{% block title %}Lista de Torneos{% endblock %}

{% block contenido %}
<h1>Lista de Torneos</h1>

<div class="grid-container">
    {% for torneo in torneos %}
    <div class="card">
        <h2>{{ torneo.nombre }}</h2>
        <p><strong>País:</strong> {{ torneo.pais }}</p>
        <p><strong>Fecha inicio:</strong> {{ torneo.fecha_inicio|date:"d/m/Y" }}</p>
        <p><strong>Fecha fin:</strong> {{ torneo.fecha_fin|date:"d/m/Y" }}</p>
        <p><strong>Partidos:</strong></p>
        <ul>
            {% for partido in torneo.partido_set.all %}
            <li>{{ partido.equipo_local.nombre }} vs {{ partido.equipo_visitante.nombre }} — {{ partido.resultado }}</li>
            {% empty %}
            <li>No hay partidos registrados</li>
            {% endfor %}
        </ul>
        <a href="{% url 'detalle_torneo' torneo.nombre %}" class="btn">Ver detalles</a>
    </div>
    {% empty %}
    <p>No hay torneos disponibles.</p>
    {% endfor %}
</div>
{% endblock %}